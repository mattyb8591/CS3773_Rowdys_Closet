<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Rowdy Closet ‚Äî Search</title>
    <link rel="stylesheet" href="../static/css/search.css" />
    <link rel="stylesheet" href="../static/css/style.css" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body>
    <header>
        <div class="nav-bar">
            <div class="nav-inner">
                <div class="nav-left">
                    <img src="../static/img/logo.png" class="nav-logo" alt="Rowdy's Closet logo">
                </div>
                <form class="nav-search" action="{{ url_for('search.search_page') }}" method="GET" role="search" aria-label="Site search" id="searchBarGroup">
                    <label for="site-search" class="visually-hidden">Search</label>
                    <input id="site-search" name="q" type="search" placeholder="Search products..." 
                           value="{{ search_query }}" aria-autocomplete="list" aria-controls="search-suggestions" />
                    <button type="submit" aria-label="Search" id="search-submit">üîç</button>
                    <ul id="search-suggestions" role="listbox" hidden></ul>
                </form>
                <div id="nav-bar" class="nav-links">
                    <li><a href="{{ url_for('home.index') }}">Home</a></li>
                    <li><a href="{{ url_for('cart.index') }}">Checkout</a></li>
                    <li><a href="{{ url_for('profile.index') }}">Profile</a></li>
                </div>
            </div>
        </div>
    </header>

    <main class="search-main">
        <div class="container">
            <!-- Search Header -->
            <div class="search-header">
                <h1>Search Products</h1>
                <div class="search-meta">
                    {% if search_query %}
                        <p class="results-count" id="resultsCount">
                            Searching for "{{ search_query }}"...
                        </p>
                    {% else %}
                        <p>Enter a search term to find products</p>
                    {% endif %}
                </div>
            </div>

            <!-- Back to Home Link -->
            <div class="back-home">
                <a href="{{ url_for('home.index') }}" class="back-link">‚Üê Back to Home</a>
            </div>

            <!-- Search Results -->
            <div class="search-results">
                <div class="products-list" id="searchResultsContainer">
                    {% if search_query %}
                        <div class="loading-message">Searching for "{{ search_query }}"...</div>
                    {% else %}
                        <div class="search-prompt">
                            <p>Enter a search term above to find products by name or description</p>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </main>

    <footer>
        <p>&copy; <span id="year"></span> Rowdy's Closet. All rights reserved.</p>
    </footer>

    <script src="/static/scripts/search.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>